{"version":3,"file":"static/webpack/static/development/pages/phongtruyenthong/[id].js.5e95090d65009fcc0206.hot-update.js","sources":["webpack:///./pages/phongtruyenthong/.js"],"sourcesContent":["import { useRouter } from \"next/router\";\nimport Layout from \"../components/MyLayout\";\nimport { LOCALHOST, LINK_IMAGE, LINK_DETAIL } from \"../constant/URL\";\nimport fetch from \"isomorphic-unfetch\";\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport ListImage from \"../components/ListImage\";\n\nconst style_main = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  flex: 1\n};\n\nconst style_item = {\n  flex: 1,\n  maxWidth: 800,\n  maxHeight: 800\n};\n\nconst style_text = {\n  padding: 50\n};\n\nconst PostLink = props => (\n  <li>\n    <Link href=\"/phongtruyenthong/[id]\" as={`/phongtruyenthong/${props.id}`}>\n      <a>{props.id}</a>\n    </Link>\n  </li>\n);\n\nconst Post = props => {\n  console.log(\"render\", props);\n\n  const router = useRouter();\n  const link_image = LOCALHOST + LINK_IMAGE + router.query.id + \".jpg\";\n\n  console.log(props.detail_image);\n\n  if (props.detail_image == null) {\n    return (\n      <Layout>\n        <p>404 not found</p>\n      </Layout>\n    );\n  } else {\n    const data = props.detail_image.data[0];\n    const [text_vn, set_text_vn] = useState(data.text_vn);\n    const [text_en, set_text_en] = useState(data.text_en);\n\n    return (\n      <Layout>\n        <ListImage id={router.query.id} />\n        <h1>Ảnh: {router.query.id}</h1>\n        <p>Thong tin cua anh </p>\n        <div style={style_main}>\n          <div>\n            <img style={style_item} src={link_image} />\n          </div>\n          <div style={style_text}>\n            <form>\n              <p>Thông tin tiếng Việt</p>\n              <textarea\n                rows=\"4\"\n                cols=\"50\"\n                type=\"text\"\n                name=\"fname\"\n                value={props.detail_image.data[0].text_vn}\n                onChange={event => set_text_vn(event.target.value)}\n              />\n\n              <p>Thông tin tiếng Anh</p>\n              <textarea\n                rows=\"4\"\n                cols=\"50\"\n                type=\"text\"\n                name=\"fname\"\n                value={text_en}\n                onChange={event => set_text_en(event.target.value)}\n              />\n\n              <br />\n              <input\n                type=\"submit\"\n                value=\"Submit\"\n                onClick={() => {\n                  console.log();\n                }}\n              />\n            </form>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n};\n\nPost.getInitialProps = async function(context) {\n  const id = context.query.id;\n\n  const uri = LOCALHOST + LINK_DETAIL + id;\n  console.log(uri);\n\n  const res = await fetch(uri);\n  const detail_image = await res.json();\n\n  if (detail_image.status == \"error\") {\n    return { detail_image: null };\n  }\n\n  return { detail_image: detail_image };\n};\n\nexport default Post;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAHA;AAMA;AACA;AADA;AACA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AACA;AAOA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAJA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AACA;AADA;AAOA;AACA;AARA;AAAA;AAAA;AAAA;AACA;AADA;AAUA;AAAA;AACA;AAXA;AAAA;AAaA;AAAA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAeA;;;;A","sourceRoot":""}