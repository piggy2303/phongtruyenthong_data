{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/piggy/Desktop/app/phongtruyenthong/pages/phongtruyenthong/[id].js\";\nimport { useRouter } from \"next/router\";\nimport Layout from \"../components/MyLayout\";\nimport { LOCALHOST, LINK_IMAGE, LINK_DETAIL } from \"../constant/URL\";\nimport fetch from \"isomorphic-unfetch\";\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport ListImage from \"../components/ListImage\";\nvar style_main = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  flex: 1\n};\nvar style_item = {\n  flex: 1,\n  maxWidth: 800,\n  maxHeight: 800\n};\nvar style_text = {\n  padding: 50\n};\n\nvar PostLink = function PostLink(props) {\n  return React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(Link, {\n    href: \"/phongtruyenthong/[id]\",\n    as: \"/phongtruyenthong/\".concat(props.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, props.id)));\n};\n\nvar Post = function Post(props) {\n  console.log(\"render\");\n  var router = useRouter();\n  var link_image = LOCALHOST + LINK_IMAGE + router.query.id + \".jpg\";\n  console.log(props.detail_image);\n\n  if (props.detail_image == null) {\n    return React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"404 not found\"));\n  } else {\n    var data = props.detail_image.data[0];\n\n    var _useState = useState(data.text_vn),\n        _useState2 = _slicedToArray(_useState, 2),\n        text_vn = _useState2[0],\n        set_text_vn = _useState2[1];\n\n    var _useState3 = useState(data.text_en),\n        _useState4 = _slicedToArray(_useState3, 2),\n        text_en = _useState4[0],\n        set_text_en = _useState4[1];\n\n    return React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(ListImage, {\n      id: router.query.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"\\u1EA2nh: \", router.query.id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Thong tin cua anh \"), React.createElement(\"div\", {\n      style: style_main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: style_item,\n      src: link_image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: style_text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Th\\xF4ng tin ti\\u1EBFng Vi\\u1EC7t\"), React.createElement(\"textarea\", {\n      rows: \"4\",\n      cols: \"50\",\n      type: \"text\",\n      name: \"fname\",\n      value: text_vn,\n      onChange: function onChange(event) {\n        return set_text_vn(event.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Th\\xF4ng tin ti\\u1EBFng Anh\"), React.createElement(\"textarea\", {\n      rows: \"4\",\n      cols: \"50\",\n      type: \"text\",\n      name: \"fname\",\n      value: text_en,\n      onChange: function onChange(event) {\n        return set_text_en(event.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      onClick: function onClick() {\n        console.log();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })))));\n  }\n};\n\nPost.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var id, uri, res, detail_image;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = context.query.id;\n            uri = LOCALHOST + LINK_DETAIL + id;\n            console.log(uri);\n            _context.next = 5;\n            return fetch(uri);\n\n          case 5:\n            res = _context.sent;\n            _context.next = 8;\n            return res.json();\n\n          case 8:\n            detail_image = _context.sent;\n\n            if (!(detail_image.status == \"error\")) {\n              _context.next = 11;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              detail_image: null\n            });\n\n          case 11:\n            return _context.abrupt(\"return\", {\n              detail_image: detail_image\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Post;","map":{"version":3,"sources":["/home/piggy/Desktop/app/phongtruyenthong/pages/phongtruyenthong/[id].js"],"names":["useRouter","Layout","LOCALHOST","LINK_IMAGE","LINK_DETAIL","fetch","React","useState","Link","ListImage","style_main","display","flexDirection","flex","style_item","maxWidth","maxHeight","style_text","padding","PostLink","props","id","Post","console","log","router","link_image","query","detail_image","data","text_vn","set_text_vn","text_en","set_text_en","event","target","value","getInitialProps","context","uri","res","json","status"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\nimport Layout from \"../components/MyLayout\";\nimport { LOCALHOST, LINK_IMAGE, LINK_DETAIL } from \"../constant/URL\";\nimport fetch from \"isomorphic-unfetch\";\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport ListImage from \"../components/ListImage\";\n\nconst style_main = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  flex: 1\n};\n\nconst style_item = {\n  flex: 1,\n  maxWidth: 800,\n  maxHeight: 800\n};\n\nconst style_text = {\n  padding: 50\n};\n\nconst PostLink = props => (\n  <li>\n    <Link href=\"/phongtruyenthong/[id]\" as={`/phongtruyenthong/${props.id}`}>\n      <a>{props.id}</a>\n    </Link>\n  </li>\n);\n\nconst Post = props => {\n  console.log(\"render\");\n\n  const router = useRouter();\n  const link_image = LOCALHOST + LINK_IMAGE + router.query.id + \".jpg\";\n\n  console.log(props.detail_image);\n\n  if (props.detail_image == null) {\n    return (\n      <Layout>\n        <p>404 not found</p>\n      </Layout>\n    );\n  } else {\n    const data = props.detail_image.data[0];\n    const [text_vn, set_text_vn] = useState(data.text_vn);\n    const [text_en, set_text_en] = useState(data.text_en);\n\n    return (\n      <Layout>\n        <ListImage id={router.query.id} />\n        <h1>Ảnh: {router.query.id}</h1>\n        <p>Thong tin cua anh </p>\n        <div style={style_main}>\n          <div>\n            <img style={style_item} src={link_image} />\n          </div>\n          <div style={style_text}>\n            <form>\n              <p>Thông tin tiếng Việt</p>\n              <textarea\n                rows=\"4\"\n                cols=\"50\"\n                type=\"text\"\n                name=\"fname\"\n                value={text_vn}\n                onChange={event => set_text_vn(event.target.value)}\n              />\n\n              <p>Thông tin tiếng Anh</p>\n              <textarea\n                rows=\"4\"\n                cols=\"50\"\n                type=\"text\"\n                name=\"fname\"\n                value={text_en}\n                onChange={event => set_text_en(event.target.value)}\n              />\n\n              <br />\n              <input\n                type=\"submit\"\n                value=\"Submit\"\n                onClick={() => {\n                  console.log();\n                }}\n              />\n            </form>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n};\n\nPost.getInitialProps = async function(context) {\n  const id = context.query.id;\n\n  const uri = LOCALHOST + LINK_DETAIL + id;\n  console.log(uri);\n\n  const res = await fetch(uri);\n  const detail_image = await res.json();\n\n  if (detail_image.status == \"error\") {\n    return { detail_image: null };\n  }\n\n  return { detail_image: detail_image };\n};\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}