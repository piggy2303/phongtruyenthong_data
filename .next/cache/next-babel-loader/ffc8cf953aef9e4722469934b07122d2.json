{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/piggy/Desktop/app/phongtruyenthong/pages/components/ListImage.js\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\nimport { LOCALHOST, LINK_All } from \"../constant/URL\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\n\nvar ListImage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ListImage, _Component);\n\n  function ListImage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ListImage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ListImage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      listArr: null,\n      item0: _this.props.id,\n      item1: null,\n      item_1: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"PostLink\", function (id) {\n      return React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, React.createElement(Link, {\n        href: \"/phongtruyenthong/[id]\",\n        as: \"/phongtruyenthong/\".concat(id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, \"\\u1EA2nh: \", id)));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchData\", function () {\n      console.log(_this.props.id);\n      fetch(LOCALHOST + LINK_All).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n\n        if (data.status == \"success\") {\n          var temp = [];\n          data.data.map(function (item) {\n            temp.push(item.image_id);\n          });\n          var index_of_props = temp.findIndex(function (x) {\n            return x == _this.props.id;\n          });\n          var item1 = null;\n          var item_1 = null;\n\n          if (index_of_props == 0) {\n            item1 = index_of_props + 1;\n            item_1 = null;\n          } else if (index_of_props == temp.length - 1) {\n            item1 = null;\n            item_1 = index_of_props - 1;\n          } else {\n            item1 = index_of_props + 1;\n            item_1 = index_of_props - 1;\n          }\n\n          console.log(index_of_props);\n\n          _this.setState({\n            listArr: temp,\n            item1: temp[item1],\n            item_1: temp[item_1],\n            item0: _this.props.id\n          });\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(ListImage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.id != this.state.item0) {\n        this.fetchData();\n      }\n\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Danh s\\xE1ch c\\xE1c \\u1EA3nh\", this.state.item_1 != null ? this.PostLink(this.state.item_1) : null, this.state.item1 != null ? this.PostLink(this.state.item1) : null);\n    }\n  }]);\n\n  return ListImage;\n}(Component);\n\nexport default ListImage;","map":{"version":3,"sources":["/home/piggy/Desktop/app/phongtruyenthong/pages/components/ListImage.js"],"names":["Component","fetch","LOCALHOST","LINK_All","Link","useRouter","ListImage","listArr","item0","props","id","item1","item_1","console","log","then","response","json","data","status","temp","map","item","push","image_id","index_of_props","findIndex","x","length","setState","fetchData","state","PostLink"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\nimport { LOCALHOST, LINK_All } from \"../constant/URL\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\n\nclass ListImage extends Component {\n  state = {\n    listArr: null,\n    item0: this.props.id,\n    item1: null,\n    item_1: null\n  };\n\n  PostLink = id => (\n    <li>\n      <Link href=\"/phongtruyenthong/[id]\" as={`/phongtruyenthong/${id}`}>\n        <a>Ảnh: {id}</a>\n      </Link>\n    </li>\n  );\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = () => {\n    console.log(this.props.id);\n\n    fetch(LOCALHOST + LINK_All)\n      .then(response => response.json())\n      .then(data => {\n        console.log(data);\n        if (data.status == \"success\") {\n          const temp = [];\n          data.data.map(item => {\n            temp.push(item.image_id);\n          });\n\n          const index_of_props = temp.findIndex(x => x == this.props.id);\n          var item1 = null;\n\n          var item_1 = null;\n\n          if (index_of_props == 0) {\n            item1 = index_of_props + 1;\n            item_1 = null;\n          } else if (index_of_props == temp.length - 1) {\n            item1 = null;\n            item_1 = index_of_props - 1;\n          } else {\n            item1 = index_of_props + 1;\n            item_1 = index_of_props - 1;\n          }\n\n          console.log(index_of_props);\n\n          this.setState({\n            listArr: temp,\n            item1: temp[item1],\n            item_1: temp[item_1],\n            item0: this.props.id\n          });\n        }\n      });\n  };\n\n  render() {\n    if (this.props.id != this.state.item0) {\n      this.fetchData();\n    }\n\n    return (\n      <p>\n        Danh sách các ảnh\n        {this.state.item_1 != null ? this.PostLink(this.state.item_1) : null}\n        {this.state.item1 != null ? this.PostLink(this.state.item1) : null}\n      </p>\n    );\n  }\n}\n\nexport default ListImage;\n"]},"metadata":{},"sourceType":"module"}